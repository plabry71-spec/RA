<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Accueil Po√©tique</title>
<style>
  body { margin:0; background:#000; color:#fff; font-family:Segoe UI,sans-serif; text-align:center; overflow:hidden; }
  #stars { position:fixed; inset:0; z-index:-2; }
  .brume { position:fixed; inset:0; z-index:-1;
    background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.08), transparent 70%);
    animation: drift 20s infinite alternate; }
  @keyframes drift { from{transform:translate(-20px,-10px);} to{transform:translate(20px,10px);} }

  h1,.time,.quote,.quick,.search-wrapper,#weather,#worldclocks { position:relative; z-index:1; }
  h1 { margin-top:40px; font-size:28px; }
  .time { font-size:44px; margin:10px 0; }
  .quote { font-style:italic; margin:20px 0; }

  .button { display:inline-block; margin:8px; padding:10px 20px;
    border-radius:12px; border:2px solid rgba(255,255,255,0.28);
    background:rgba(0,0,0,0.35); color:#fff; text-decoration:none; }
  .search-wrapper { display:flex; justify-content:center; gap:10px; margin:16px 0; }
  .search-input { flex:1; max-width:640px; padding:12px 14px; border-radius:14px;
    border:2px solid rgba(255,255,255,0.28); background:rgba(0,0,0,0.55); color:#fff; }
  .search-button { padding:12px 18px; border-radius:12px; cursor:pointer;
    border:2px solid rgba(255,0,0,0.6); background:rgba(255,0,0,0.8); color:#fff; }
  .candle { animation: flicker 1.5s infinite alternate; display:inline-block; margin-left:8px; }
  @keyframes flicker { 0% { opacity:0.8; transform:scale(1);} 100% { opacity:1; transform:scale(1.05);} }

  /* üåô Croissant de lune scintillant en haut √† gauche */
  #moon {
    position: fixed;
    top: 60px;
    left: 60px;
    font-size: 48px;
    color: #fff;
    opacity: 0.85;
    animation: moonGlow 4s ease-in-out infinite alternate;
    z-index: 0;
  }
  @keyframes moonGlow {
    from { text-shadow: 0 0 8px #fff, 0 0 16px #ccc; }
    to   { text-shadow: 0 0 16px #fff, 0 0 32px #ccc; }
  }
</style>
</head>
<body>
<canvas id="stars"></canvas>
<div class="brume"></div>
<div id="moon">üåô</div>

<h1>Bienvenue, Pierre</h1>
<div class="time" id="time">--:--</div>
<div class="quote" id="dailyQuote">¬´ ... ¬ª</div>

<div class="quick">
  <a class="button" href="https://www.google.com" target="_blank">Google</a>
  <a class="button" href="https://www.wikipedia.org" target="_blank">Wikipedia</a>
  <a class="button" href="https://www.youtube.com" target="_blank">YouTube</a>
  <a class="button" href="https://www.lemonde.fr" target="_blank">Le Monde</a>
</div>

<div class="search-wrapper">
  <input id="searchInput" class="search-input" type="text" placeholder="Rechercher...">
  <button class="search-button" onclick="searchHere()">Chercher</button>
  <span class="candle">üïØÔ∏è</span>
</div>

<div id="weather">Chargement m√©t√©o...</div>

<div id="worldclocks">
  <div id="ny">New York : --:--</div>
  <div id="ldn">Londres : --:--</div>
</div>

<script>
  // Horloge locale
  function updateTime(){
    const now=new Date();
    document.getElementById("time").textContent=
      now.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});
  }
  setInterval(updateTime,1000); updateTime();

  // Horloges internationales
  function updateWorldClocks(){
    const now=new Date();
    document.getElementById("ny").textContent=
      "New York : "+now.toLocaleTimeString("fr-FR",{timeZone:"America/New_York",hour:"2-digit",minute:"2-digit"});
    document.getElementById("ldn").textContent=
      "Londres : "+now.toLocaleTimeString("fr-FR",{timeZone:"Europe/London",hour:"2-digit",minute:"2-digit"});
  }
  setInterval(updateWorldClocks,1000); updateWorldClocks();

  // Citation quotidienne
  const quotes = [
    "Le succ√®s n'est pas final. L'√©chec n'est pas fatal.",
    "La vie est un myst√®re qu‚Äôil faut vivre, et non un probl√®me √† r√©soudre.",
    "Fais de ta vie un r√™ve, et d‚Äôun r√™ve une r√©alit√©.",
    "Chaque jour est une chance de recommencer.",
    "L‚Äôespoir est une √©toile dans la nuit."
  ];
  const today = new Date().getDate();
  document.getElementById("dailyQuote").textContent = `¬´ ${quotes[today % quotes.length]} ¬ª`;

  // Barre de recherche Google (redirection m√™me onglet)
  function searchHere(){
    const q=document.getElementById("searchInput").value.trim();
    if(q){
      window.location.href="https://www.google.com/search?q="+encodeURIComponent(q);
    }
  }

  // M√©t√©o
  (async function(){
    const url="https://api.open-meteo.com/v1/forecast?latitude=45.777&longitude=3.087&current_weather=true&timezone=auto";
    try{
      const res=await fetch(url); const data=await res.json();
      const t=Math.round(data.current_weather.temperature);
      const code=data.current_weather.weathercode;
      let cond="‚ú® Conditions vari√©es";
      if(code===0) cond="‚òÄÔ∏è Ciel clair";
      else if([1,2].includes(code)) cond="‚õÖ Partiellement nuageux";
      else if(code===3) cond="‚òÅÔ∏è Nuageux";
      document.getElementById("weather").textContent=
        `Sous la lune de Clermont-Ferrand ‚Ä¢ ${cond} ‚Ä¢ ${t}¬∞C`;
    }catch(e){ document.getElementById("weather").textContent="M√©t√©o indisponible"; }
  })();

  // Ciel √©toil√© + √©toiles filantes
  const canvas=document.getElementById("stars");
  const ctx=canvas.getContext("2d");
  function resizeCanvas(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
  resizeCanvas(); window.addEventListener("resize",resizeCanvas);

  const stars=Array.from({length:150},()=>({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*1.5+0.5,
    tw:Math.random()*Math.PI*2
  }));
  const shootingStars=[];
  function spawnShootingStar(){
    const x=Math.random()*canvas.width;
    const y=Math.random()*canvas.height*0.5;
    shootingStars.push({x,y,dx:-8,dy:8,len:100,w:2,life:1});
  }
  setInterval(()=>{ if(Math.random()<0.5) spawnShootingStar(); },3000);

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="#fff";
    for(const s of stars){
      s.tw+=0.02;
      const r=s.r+Math.sin(s.tw)*0.3;
      ctx.beginPath(); ctx.arc(s.x,s.y,Math.max(0.2,r),0,Math.PI*2); ctx.fill();
    }
    for(let i=shootingStars.length-1;i>=0;i--){
      const st=shootingStars[i];
      ctx.strokeStyle="rgba(255,255,255,"+st.life+")";
      ctx.lineWidth=st.w;
      ctx.beginPath(); ctx.moveTo(st.x,st.y);
      ctx.lineTo(st.x-st.len,st.y+st.len); ctx.stroke();
      st.x+=st.dx; st.y+=st.dy; st.life-=0.01;
      if(st.life<=0) shootingStars.splice(i,1);
    }
    requestAnimationFrame(draw);
  }
  draw();
</script>
</body>
</html>

